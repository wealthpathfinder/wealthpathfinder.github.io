<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Net Worth Calculator - Financial Tools</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #0052D4 0%, #4364F7 50%, #6FB1FC 100%);
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
        }

        .calculator-container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
            overflow: hidden;
        }

        .calculator-header {
            background: #2c3e50;
            color: white;
            padding: 30px;
            text-align: center;
        }

        .calculator-header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .calculator-header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .calculator-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            padding: 40px;
        }

        @media (max-width: 768px) {
            .calculator-content {
                grid-template-columns: 1fr;
            }
        }

        .input-section {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 10px;
            border: 1px solid #e9ecef;
        }

        .section-title {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            color: #2c3e50;
            font-size: 1.4em;
        }

        .section-title i {
            color: #0052D4;
        }

        .input-group {
            margin-bottom: 25px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
        }

        .input-group input, .input-group select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .input-group input:focus, .input-group select:focus {
            outline: none;
            border-color: #0052D4;
        }

        .asset-item, .liability-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            border: 1px solid #e9ecef;
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .asset-item input, .liability-item input {
            flex: 1;
        }

        .remove-btn {
            background: #e74c3c;
            color: white;
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .add-btn {
            background: #2ecc71;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 10px 15px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            margin-top: 10px;
        }

        .calculate-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #0052D4 0%, #4364F7 50%, #6FB1FC 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
            margin-top: 20px;
        }

        .calculate-btn:hover {
            transform: translateY(-2px);
        }

        .results-section {
            background: white;
            padding: 30px;
            border-radius: 10px;
            border: 1px solid #e9ecef;
        }

        .net-worth-summary {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .net-worth-amount {
            font-size: 3em;
            font-weight: 800;
            margin: 10px 0;
        }

        .positive {
            color: #2ecc71;
        }

        .negative {
            color: #e74c3c;
        }

        .net-worth-description {
            font-size: 1.2em;
            color: #6c757d;
        }

        .results-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .result-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            border-left: 4px solid #0052D4;
        }

        .result-card h3 {
            font-size: 0.9em;
            color: #6c757d;
            margin-bottom: 10px;
        }

        .result-card .value {
            font-size: 1.8em;
            font-weight: 700;
            color: #2c3e50;
        }

        .chart-container {
            height: 300px;
            margin: 30px 0;
        }

        .breakdown-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .breakdown-table th,
        .breakdown-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e9ecef;
        }

        .breakdown-table th {
            background: #f8f9fa;
            font-weight: 600;
            color: #2c3e50;
        }

        .insights-section {
            background: #e8f4fd;
            padding: 25px;
            border-radius: 10px;
            margin-top: 30px;
            border-left: 4px solid #3498db;
        }

        .insights-section h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .insight-item {
            margin-bottom: 15px;
            padding-left: 20px;
            border-left: 3px solid #0052D4;
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        .print-btn, .reset-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s;
        }

        .print-btn {
            background: #3498db;
            color: white;
        }

        .reset-btn {
            background: #95a5a6;
            color: white;
        }

        .print-btn:hover, .reset-btn:hover {
            transform: translateY(-2px);
        }

        .ratio-section {
            margin-top: 30px;
        }

        .ratio-chart {
            height: 250px;
            margin-top: 20px;
        }

        .tab-container {
            margin-top: 20px;
        }

        .tabs {
            display: flex;
            border-bottom: 1px solid #e9ecef;
        }

        .tab {
            padding: 10px 20px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
        }

        .tab.active {
            border-bottom: 3px solid #0052D4;
            font-weight: 600;
            color: #0052D4;
        }

        .tab-content {
            padding: 20px 0;
        }

        .tab-pane {
            display: none;
        }

        .tab-pane.active {
            display: block;
        }

        .milestone-section {
            margin-top: 30px;
        }

        .milestone-list {
            margin-top: 15px;
        }

        .milestone-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #e9ecef;
        }

        .milestone-month {
            font-weight: 600;
            color: #2c3e50;
        }

        .milestone-value {
            font-weight: 600;
            color: #0052D4;
        }

        .comparison-section {
            margin-top: 30px;
        }

        .comparison-chart {
            height: 250px;
            margin-top: 20px;
        }

        .financial-ratio {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 10px;
            padding: 10px;
            background: white;
            border-radius: 8px;
            border: 1px solid #e9ecef;
        }

        .ratio-name {
            font-weight: 600;
            color: #2c3e50;
        }

        .ratio-value {
            font-weight: 600;
            color: #0052D4;
        }

        .ratio-bar {
            height: 10px;
            background: #e9ecef;
            border-radius: 5px;
            flex: 1;
            margin: 0 15px;
            overflow: hidden;
        }

        .ratio-fill {
            height: 100%;
            background: #0052D4;
            border-radius: 5px;
        }

        .goal-section {
            margin-top: 30px;
        }

        .goal-alert {
            background: #d1f7c4;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #2ecc71;
        }

        .progress-section {
            background: #ffeaa7;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #fdcb6e;
        }

        .asset-category, .liability-category {
            margin-bottom: 20px;
        }

        .category-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            padding: 10px;
            background: white;
            border-radius: 8px;
            border: 1px solid #e9ecef;
        }

        .category-title {
            font-weight: 600;
            color: #2c3e50;
        }

        .category-total {
            font-weight: 600;
            color: #0052D4;
        }

        .net-worth-timeline {
            margin-top: 30px;
        }

        .timeline-chart {
            height: 250px;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="calculator-container">
        <div class="calculator-header">
            <h1>Net Worth Calculator</h1>
            <p>Track your assets, liabilities, and overall financial health</p>
        </div>

        <div class="calculator-content">
            <div class="input-section">
                <div class="section-title">
                    <i class="fas fa-chart-line"></i>
                    <h2>Your Assets</h2>
                </div>
                
                <div class="asset-category">
                    <div class="category-header">
                        <div class="category-title">Liquid Assets</div>
                        <div class="category-total" id="liquid-assets-total">$0</div>
                    </div>
                    <div id="liquid-assets-container">
                        <div class="asset-item">
                            <input type="text" placeholder="Asset Name" value="Checking Account">
                            <input type="number" placeholder="Value" value="5000">
                            <button class="remove-btn" onclick="removeAsset(this)"><i class="fas fa-times"></i></button>
                        </div>
                        <div class="asset-item">
                            <input type="text" placeholder="Asset Name" value="Savings Account">
                            <input type="number" placeholder="Value" value="15000">
                            <button class="remove-btn" onclick="removeAsset(this)"><i class="fas fa-times"></i></button>
                        </div>
                    </div>
                    <button class="add-btn" onclick="addAsset('liquid')">
                        <i class="fas fa-plus"></i> Add Liquid Asset
                    </button>
                </div>

                <div class="asset-category">
                    <div class="category-header">
                        <div class="category-title">Investment Assets</div>
                        <div class="category-total" id="investment-assets-total">$0</div>
                    </div>
                    <div id="investment-assets-container">
                        <div class="asset-item">
                            <input type="text" placeholder="Asset Name" value="Brokerage Account">
                            <input type="number" placeholder="Value" value="25000">
                            <button class="remove-btn" onclick="removeAsset(this)"><i class="fas fa-times"></i></button>
                        </div>
                        <div class="asset-item">
                            <input type="text" placeholder="Asset Name" value="Retirement Account">
                            <input type="number" placeholder="Value" value="45000">
                            <button class="remove-btn" onclick="removeAsset(this)"><i class="fas fa-times"></i></button>
                        </div>
                    </div>
                    <button class="add-btn" onclick="addAsset('investment')">
                        <i class="fas fa-plus"></i> Add Investment Asset
                    </button>
                </div>

                <div class="asset-category">
                    <div class="category-header">
                        <div class="category-title">Real Estate & Property</div>
                        <div class="category-total" id="property-assets-total">$0</div>
                    </div>
                    <div id="property-assets-container">
                        <div class="asset-item">
                            <input type="text" placeholder="Asset Name" value="Primary Home">
                            <input type="number" placeholder="Value" value="350000">
                            <button class="remove-btn" onclick="removeAsset(this)"><i class="fas fa-times"></i></button>
                        </div>
                    </div>
                    <button class="add-btn" onclick="addAsset('property')">
                        <i class="fas fa-plus"></i> Add Property Asset
                    </button>
                </div>

                <div class="asset-category">
                    <div class="category-header">
                        <div class="category-title">Other Assets</div>
                        <div class="category-total" id="other-assets-total">$0</div>
                    </div>
                    <div id="other-assets-container">
                        <div class="asset-item">
                            <input type="text" placeholder="Asset Name" value="Vehicle">
                            <input type="number" placeholder="Value" value="25000">
                            <button class="remove-btn" onclick="removeAsset(this)"><i class="fas fa-times"></i></button>
                        </div>
                    </div>
                    <button class="add-btn" onclick="addAsset('other')">
                        <i class="fas fa-plus"></i> Add Other Asset
                    </button>
                </div>

                <div class="section-title" style="margin-top: 30px;">
                    <i class="fas fa-balance-scale"></i>
                    <h2>Your Liabilities</h2>
                </div>

                <div class="liability-category">
                    <div class="category-header">
                        <div class="category-title">Short-Term Debt</div>
                        <div class="category-total" id="short-liabilities-total">$0</div>
                    </div>
                    <div id="short-liabilities-container">
                        <div class="liability-item">
                            <input type="text" placeholder="Liability Name" value="Credit Card Debt">
                            <input type="number" placeholder="Amount" value="5000">
                            <button class="remove-btn" onclick="removeLiability(this)"><i class="fas fa-times"></i></button>
                        </div>
                    </div>
                    <button class="add-btn" onclick="addLiability('short')">
                        <i class="fas fa-plus"></i> Add Short-Term Liability
                    </button>
                </div>

                <div class="liability-category">
                    <div class="category-header">
                        <div class="category-title">Long-Term Debt</div>
                        <div class="category-total" id="long-liabilities-total">$0</div>
                    </div>
                    <div id="long-liabilities-container">
                        <div class="liability-item">
                            <input type="text" placeholder="Liability Name" value="Mortgage">
                            <input type="number" placeholder="Amount" value="280000">
                            <button class="remove-btn" onclick="removeLiability(this)"><i class="fas fa-times"></i></button>
                        </div>
                        <div class="liability-item">
                            <input type="text" placeholder="Liability Name" value="Auto Loan">
                            <input type="number" placeholder="Amount" value="15000">
                            <button class="remove-btn" onclick="removeLiability(this)"><i class="fas fa-times"></i></button>
                        </div>
                    </div>
                    <button class="add-btn" onclick="addLiability('long')">
                        <i class="fas fa-plus"></i> Add Long-Term Liability
                    </button>
                </div>

                <div class="input-group">
                    <label for="growth-rate">Expected Annual Growth Rate (%)</label>
                    <input type="number" id="growth-rate" value="5" min="0" max="20" step="0.1">
                </div>

                <div class="input-group">
                    <label for="net-worth-goal">Net Worth Goal ($)</label>
                    <input type="number" id="net-worth-goal" value="1000000" min="0" step="10000">
                </div>

                <button class="calculate-btn" onclick="calculateNetWorth()">
                    <i class="fas fa-calculator"></i> Calculate Net Worth
                </button>

                <div class="comparison-section">
                    <h3>Compare Scenarios</h3>
                    <div class="input-group">
                        <label for="compare-scenario">Compare With</label>
                        <select id="compare-scenario">
                            <option value="debt_reduction">Debt Reduction Strategy</option>
                            <option value="investment_growth">Investment Growth Strategy</option>
                            <option value="balanced">Balanced Approach</option>
                        </select>
                    </div>
                    <button class="calculate-btn" onclick="compareScenarios()" style="margin-top: 10px; background: #2ecc71;">
                        Compare Scenarios
                    </button>
                </div>
            </div>

            <div class="results-section">
                <div class="section-title">
                    <i class="fas fa-chart-bar"></i>
                    <h2>Your Financial Snapshot</h2>
                </div>
                
                <div class="net-worth-summary">
                    <h3>Your Net Worth</h3>
                    <div class="net-worth-amount positive" id="net-worth">$87,000</div>
                    <div class="net-worth-description" id="net-worth-description">Assets: $420,000 • Liabilities: $300,000</div>
                </div>

                <div id="goal-alert" class="goal-alert" style="display: none;">
                    <h4><i class="fas fa-trophy"></i> Goal Achieved!</h4>
                    <p>Congratulations! You've reached your net worth goal of <strong id="goal-amount">$1,000,000</strong>.</p>
                </div>

                <div id="progress-alert" class="progress-section">
                    <h4><i class="fas fa-chart-line"></i> Progress Toward Goal</h4>
                    <p>You are <strong id="progress-percent">8.7%</strong> of the way to your net worth goal. Keep going!</p>
                </div>

                <div class="results-grid">
                    <div class="result-card">
                        <h3>Total Assets</h3>
                        <div class="value" id="total-assets">$420,000</div>
                    </div>
                    <div class="result-card">
                        <h3>Total Liabilities</h3>
                        <div class="value" id="total-liabilities">$300,000</div>
                    </div>
                    <div class="result-card">
                        <h3>Asset-to-Debt Ratio</h3>
                        <div class="value" id="asset-debt-ratio">1.4:1</div>
                    </div>
                    <div class="result-card">
                        <h3>Liquid Net Worth</h3>
                        <div class="value" id="liquid-net-worth">$20,000</div>
                    </div>
                </div>

                <div class="chart-container">
                    <canvas id="netWorthChart"></canvas>
                </div>

                <div class="tab-container">
                    <div class="tabs">
                        <div class="tab active" onclick="switchTab('breakdown')">Asset Breakdown</div>
                        <div class="tab" onclick="switchTab('ratios')">Financial Ratios</div>
                        <div class="tab" onclick="switchTab('timeline')">Net Worth Timeline</div>
                    </div>
                    <div class="tab-content">
                        <div class="tab-pane active" id="breakdown-tab">
                            <div class="ratio-section">
                                <h3>Asset Allocation</h3>
                                <div class="ratio-chart">
                                    <canvas id="assetAllocationChart"></canvas>
                                </div>
                                <table class="breakdown-table">
                                    <thead>
                                        <tr>
                                            <th>Asset Category</th>
                                            <th>Amount</th>
                                            <th>Percentage</th>
                                        </tr>
                                    </thead>
                                    <tbody id="asset-allocation-body">
                                        <!-- Will be populated by JavaScript -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="tab-pane" id="ratios-tab">
                            <div class="ratio-section">
                                <h3>Key Financial Ratios</h3>
                                <div class="financial-ratio">
                                    <div class="ratio-name">Liquidity Ratio</div>
                                    <div class="ratio-bar">
                                        <div class="ratio-fill" style="width: 70%;"></div>
                                    </div>
                                    <div class="ratio-value" id="liquidity-ratio">4.0</div>
                                </div>
                                <div class="financial-ratio">
                                    <div class="ratio-name">Debt-to-Asset Ratio</div>
                                    <div class="ratio-bar">
                                        <div class="ratio-fill" style="width: 40%;"></div>
                                    </div>
                                    <div class="ratio-value" id="debt-asset-ratio">0.71</div>
                                </div>
                                <div class="financial-ratio">
                                    <div class="ratio-name">Net Worth-to-Income</div>
                                    <div class="ratio-bar">
                                        <div class="ratio-fill" style="width: 60%;"></div>
                                    </div>
                                    <div class="ratio-value" id="net-worth-income">1.16</div>
                                </div>
                                <div class="insight-item">
                                    <strong>Liquidity Ratio:</strong> Measures your ability to cover short-term obligations. Aim for 3-6 months of expenses.
                                </div>
                                <div class="insight-item">
                                    <strong>Debt-to-Asset Ratio:</strong> Shows what percentage of your assets are financed by debt. Lower is better.
                                </div>
                                <div class="insight-item">
                                    <strong>Net Worth-to-Income:</strong> Compares your net worth to your annual income. Higher indicates better financial health.
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane" id="timeline-tab">
                            <div class="net-worth-timeline">
                                <h3>Net Worth Projection</h3>
                                <div class="timeline-chart">
                                    <canvas id="timelineChart"></canvas>
                                </div>
                                <table class="breakdown-table">
                                    <thead>
                                        <tr>
                                            <th>Time Period</th>
                                            <th>Projected Net Worth</th>
                                            <th>Growth</th>
                                        </tr>
                                    </thead>
                                    <tbody id="timeline-body">
                                        <!-- Will be populated by JavaScript -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="insights-section">
                    <h3><i class="fas fa-lightbulb"></i> Net Worth Improvement Tips</h3>
                    <div class="insight-item">
                        <strong>Increase Savings Rate:</strong> Aim to save at least 20% of your income to accelerate net worth growth.
                    </div>
                    <div class="insight-item">
                        <strong>Pay Down High-Interest Debt:</strong> Focus on credit cards and personal loans with interest rates above 6-8%.
                    </div>
                    <div class="insight-item">
                        <strong>Diversify Investments:</strong> Spread your investments across different asset classes to reduce risk.
                    </div>
                    <div class="insight-item">
                        <strong>Monitor Regularly:</strong> Track your net worth quarterly to stay on top of your financial progress.
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="print-btn" onclick="window.print()">
                        <i class="fas fa-print"></i> Print Results
                    </button>
                    <button class="reset-btn" onclick="resetCalculator()">
                        <i class="fas fa-redo"></i> Reset Calculator
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let netWorthChart, assetAllocationChart, timelineChart;

        // Add asset item
        function addAsset(category) {
            let container;
            switch(category) {
                case 'liquid': container = document.getElementById('liquid-assets-container'); break;
                case 'investment': container = document.getElementById('investment-assets-container'); break;
                case 'property': container = document.getElementById('property-assets-container'); break;
                case 'other': container = document.getElementById('other-assets-container'); break;
            }
            
            const assetItem = document.createElement('div');
            assetItem.className = 'asset-item';
            assetItem.innerHTML = `
                <input type="text" placeholder="Asset Name" value="New Asset">
                <input type="number" placeholder="Value" value="0">
                <button class="remove-btn" onclick="removeAsset(this)"><i class="fas fa-times"></i></button>
            `;
            container.appendChild(assetItem);
            
            // Add event listeners to new inputs
            const inputs = assetItem.querySelectorAll('input');
            inputs.forEach(input => {
                input.addEventListener('input', calculateNetWorth);
            });
        }

        // Remove asset item
        function removeAsset(button) {
            const assetItem = button.parentElement;
            if (assetItem.parentElement.children.length > 1) {
                assetItem.remove();
                calculateNetWorth();
            }
        }

        // Add liability item
        function addLiability(category) {
            let container;
            switch(category) {
                case 'short': container = document.getElementById('short-liabilities-container'); break;
                case 'long': container = document.getElementById('long-liabilities-container'); break;
            }
            
            const liabilityItem = document.createElement('div');
            liabilityItem.className = 'liability-item';
            liabilityItem.innerHTML = `
                <input type="text" placeholder="Liability Name" value="New Liability">
                <input type="number" placeholder="Amount" value="0">
                <button class="remove-btn" onclick="removeLiability(this)"><i class="fas fa-times"></i></button>
            `;
            container.appendChild(liabilityItem);
            
            // Add event listeners to new inputs
            const inputs = liabilityItem.querySelectorAll('input');
            inputs.forEach(input => {
                input.addEventListener('input', calculateNetWorth);
            });
        }

        // Remove liability item
        function removeLiability(button) {
            const liabilityItem = button.parentElement;
            if (liabilityItem.parentElement.children.length > 1) {
                liabilityItem.remove();
                calculateNetWorth();
            }
        }

        // Switch between tabs
        function switchTab(tabName) {
            // Update tab active states
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Update tab content visibility
            document.querySelectorAll('.tab-pane').forEach(pane => {
                pane.classList.remove('active');
            });
            document.getElementById(${tabName}-tab).classList.add('active');
        }

        // Calculate net worth
        function calculateNetWorth() {
            // Calculate total assets by category
            let liquidAssets = 0;
            let investmentAssets = 0;
            let propertyAssets = 0;
            let otherAssets = 0;
            
            // Liquid assets
            const liquidItems = document.querySelectorAll('#liquid-assets-container .asset-item');
            liquidItems.forEach(item => {
                const value = parseFloat(item.querySelector('input[type="number"]').value) || 0;
                liquidAssets += value;
            });
            document.getElementById('liquid-assets-total').textContent = $${liquidAssets.toLocaleString()};
            
            // Investment assets
            const investmentItems = document.querySelectorAll('#investment-assets-container .asset-item');
            investmentItems.forEach(item => {
                const value = parseFloat(item.querySelector('input[type="number"]').value) || 0;
                investmentAssets += value;
            });
            document.getElementById('investment-assets-total').textContent = $${investmentAssets.toLocaleString()};
            
            // Property assets
            const propertyItems = document.querySelectorAll('#property-assets-container .asset-item');
            propertyItems.forEach(item => {
                const value = parseFloat(item.querySelector('input[type="number"]').value) || 0;
                propertyAssets += value;
            });
            document.getElementById('property-assets-total').textContent = $${propertyAssets.toLocaleString()};
            
            // Other assets
            const otherItems = document.querySelectorAll('#other-assets-container .asset-item');
            otherItems.forEach(item => {
                const value = parseFloat(item.querySelector('input[type="number"]').value) || 0;
                otherAssets += value;
            });
            document.getElementById('other-assets-total').textContent = $${otherAssets.toLocaleString()};
            
            // Calculate total liabilities by category
            let shortLiabilities = 0;
            let longLiabilities = 0;
            
            // Short-term liabilities
            const shortItems = document.querySelectorAll('#short-liabilities-container .liability-item');
            shortItems.forEach(item => {
                const value = parseFloat(item.querySelector('input[type="number"]').value) || 0;
                shortLiabilities += value;
            });
            document.getElementById('short-liabilities-total').textContent = $${shortLiabilities.toLocaleString()};
            
            // Long-term liabilities
            const longItems = document.querySelectorAll('#long-liabilities-container .liability-item');
            longItems.forEach(item => {
                const value = parseFloat(item.querySelector('input[type="number"]').value) || 0;
                longLiabilities += value;
            });
            document.getElementById('long-liabilities-total').textContent = $${longLiabilities.toLocaleString()};
            
            // Calculate totals
            const totalAssets = liquidAssets + investmentAssets + propertyAssets + otherAssets;
            const totalLiabilities = shortLiabilities + longLiabilities;
            const netWorth = totalAssets - totalLiabilities;
            
            // Calculate liquid net worth (liquid assets - short-term liabilities)
            const liquidNetWorth = liquidAssets - shortLiabilities;
            
            // Calculate ratios
            const assetDebtRatio = totalLiabilities > 0 ? (totalAssets / totalLiabilities).toFixed(2) : 'N/A';
            const liquidityRatio = shortLiabilities > 0 ? (liquidAssets / shortLiabilities).toFixed(1) : 'N/A';
            const debtAssetRatio = totalAssets > 0 ? (totalLiabilities / totalAssets).toFixed(2) : 'N/A';
            
            // Assume annual income of $75,000 for ratio calculation
            const annualIncome = 75000;
            const netWorthIncome = (netWorth / annualIncome).toFixed(2);
            
            // Update results
            document.getElementById('total-assets').textContent = $${totalAssets.toLocaleString()};
            document.getElementById('total-liabilities').textContent = $${totalLiabilities.toLocaleString()};
            
            const netWorthElement = document.getElementById('net-worth');
            netWorthElement.textContent = $${netWorth.toLocaleString()};
            
            if (netWorth >= 0) {
                netWorthElement.className = 'net-worth-amount positive';
            } else {
                netWorthElement.className = 'net-worth-amount negative';
            }
            
            document.getElementById('net-worth-description').textContent = 
                Assets: $${totalAssets.toLocaleString()} • Liabilities: $${totalLiabilities.toLocaleString()};
            
            document.getElementById('asset-debt-ratio').textContent = ${assetDebtRatio}:1;
            document.getElementById('liquid-net-worth').textContent = $${liquidNetWorth.toLocaleString()};
            
            // Update financial ratios
            document.getElementById('liquidity-ratio').textContent = liquidityRatio;
            document.getElementById('debt-asset-ratio').textContent = debtAssetRatio;
            document.getElementById('net-worth-income').textContent = netWorthIncome;
            
            // Update ratio bars
            document.querySelectorAll('.ratio-fill').forEach((fill, index) => {
                if (index === 0) {
                    // Liquidity ratio (aim for 3-6)
                    const ratio = parseFloat(liquidityRatio);
                    const width = Math.min(100, (ratio / 10) * 100);
                    fill.style.width = ${width}%;
                } else if (index === 1) {
                    // Debt-to-asset ratio (lower is better)
                    const ratio = parseFloat(debtAssetRatio);
                    const width = Math.min(100, ratio * 100);
                    fill.style.width = ${width}%;
                } else {
                    // Net worth to income (aim for 1+)
                    const ratio = parseFloat(netWorthIncome);
                    const width = Math.min(100, (ratio / 5) * 100);
                    fill.style.width = ${width}%;
                }
            });
            
            // Update goal progress
            const netWorthGoal = parseFloat(document.getElementById('net-worth-goal').value);
            const progressPercent = netWorthGoal > 0 ? (netWorth / netWorthGoal * 100).toFixed(1) : 0;
            
            const goalAlert = document.getElementById('goal-alert');
            const progressAlert = document.getElementById('progress-alert');
            
            if (netWorth >= netWorthGoal) {
                goalAlert.style.display = 'block';
                progressAlert.style.display = 'none';
                document.getElementById('goal-amount').textContent = $${netWorthGoal.toLocaleString()};
            } else {
                goalAlert.style.display = 'none';
                progressAlert.style.display = 'block';
                document.getElementById('progress-percent').textContent = ${progressPercent}%;
            }
            
            // Update charts
            updateNetWorthChart(totalAssets, totalLiabilities, netWorth);
            updateAssetAllocationChart(liquidAssets, investmentAssets, propertyAssets, otherAssets);
            updateTimelineChart(netWorth);
        }

        // Compare different financial scenarios
        function compareScenarios() {
            const scenario = document.getElementById('compare-scenario').value;
            
            // Get current values
            const totalAssets = parseFloat(document.getElementById('total-assets').textContent.replace(/[$,]/g, ''));
            const totalLiabilities = parseFloat(document.getElementById('total-liabilities').textContent.replace(/[$,]/g, ''));
            const currentNetWorth = totalAssets - totalLiabilities;
            
            let scenarioNetWorth;
            
            switch(scenario) {
                case 'debt_reduction':
                    // Assume 20% debt reduction
                    scenarioNetWorth = totalAssets - (totalLiabilities * 0.8);
                    break;
                case 'investment_growth':
                    // Assume 15% asset growth
                    scenarioNetWorth = (totalAssets * 1.15) - totalLiabilities;
                    break;
                case 'balanced':
                    // Assume 10% asset growth and 10% debt reduction
                    scenarioNetWorth = (totalAssets * 1.1) - (totalLiabilities * 0.9);
                    break;
            }
            
            // Update comparison chart
            updateComparisonChart(currentNetWorth, scenarioNetWorth, scenario);
        }

        // Update the net worth chart
        function updateNetWorthChart(assets, liabilities, netWorth) {
            const ctx = document.getElementById('netWorthChart').getContext('2d');
            
            if (netWorthChart) {
                netWorthChart.destroy();
            }
            
            netWorthChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Assets', 'Liabilities', 'Net Worth'],
                    datasets: [{
                        label: 'Amount ($)',
                        data: [assets, liabilities, netWorth],
                        backgroundColor: [
                            '#2ecc71',
                            '#e74c3c',
                            '#3498db'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Assets vs Liabilities vs Net Worth'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Amount ($)'
                            }
                        }
                    }
                }
            });
        }

        // Update the asset allocation chart
        function updateAssetAllocationChart(liquid, investment, property, other) {
            const ctx = document.getElementById('assetAllocationChart').getContext('2d');
            
            if (assetAllocationChart) {
                assetAllocationChart.destroy();
            }
            
            const total = liquid + investment + property + other;
            
            assetAllocationChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Liquid Assets', 'Investment Assets', 'Real Estate', 'Other Assets'],
                    datasets: [{
                        data: [liquid, investment, property, other],
                        backgroundColor: [
                            '#3498db',
                            '#2ecc71',
                            '#e67e22',
                            '#9b59b6'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'bottom',
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const percentage = ((context.raw / total) * 100).toFixed(1);
                                    return ${context.label}: $${context.raw.toLocaleString()} (${percentage}%);
                                }
                            }
                        }
                    }
                }
            });
            
            // Update asset allocation table
            const allocationBody = document.getElementById('asset-allocation-body');
            allocationBody.innerHTML = '';
            
            const categories = [
                { name: 'Liquid Assets', value: liquid },
                { name: 'Investment Assets', value: investment },
                { name: 'Real Estate', value: property },
                { name: 'Other Assets', value: other }
            ];
            
            categories.forEach(category => {
                if (category.value > 0) {
                    const row = document.createElement('tr');
                    const percentage = total > 0 ? ((category.value / total) * 100).toFixed(1) : 0;
                    row.innerHTML = `
                        <td>${category.name}</td>
                        <td>$${category.value.toLocaleString()}</td>
                        <td>${percentage}%</td>
                    `;
                    allocationBody.appendChild(row);
                }
            });
        }

        // Update the net worth timeline chart
        function updateTimelineChart(currentNetWorth) {
            const ctx = document.getElementById('timelineChart').getContext('2d');
            
            if (timelineChart) {
                timelineChart.destroy();
            }
            
            const growthRate = parseFloat(document.getElementById('growth-rate').value) / 100;
            const years = 10;
            const labels = [];
            const data = [];
            
            let netWorth = currentNetWorth;
            
            for (let i = 0; i <= years; i++) {
                labels.push(Year ${i});
                data.push(netWorth);
                netWorth = netWorth * (1 + growthRate);
            }
            
            timelineChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Projected Net Worth',
                        data: data,
                        borderColor: '#0052D4',
                        backgroundColor: 'rgba(0, 82, 212, 0.1)',
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        title: {
                            display: true,
                            text: '10-Year Net Worth Projection'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Net Worth ($)'
                            }
                        }
                    }
                }
            });
            
            // Update timeline table
            const timelineBody = document.getElementById('timeline-body');
            timelineBody.innerHTML = '';
            
            netWorth = currentNetWorth;
            for (let i = 0; i <= years; i += 2) {
                const row = document.createElement('tr');
                const growth = i === 0 ? 0 : ((data[i] - currentNetWorth) / currentNetWorth * 100).toFixed(1);
                row.innerHTML = `
                    <td>${i} years</td>
                    <td>$${Math.round(data[i]).toLocaleString()}</td>
                    <td>${i === 0 ? 'N/A' : ${growth}%}</td>
                `;
                timelineBody.appendChild(row);
            }
        }

        // Update the comparison chart
        function updateComparisonChart(currentNetWorth, scenarioNetWorth, scenario) {
            // For demonstration, we'll just show an alert
            const difference = scenarioNetWorth - currentNetWorth;
            const percentage = (difference / currentNetWorth * 100).toFixed(1);
            
            let scenarioName;
            switch(scenario) {
                case 'debt_reduction': scenarioName = 'Debt Reduction'; break;
                case 'investment_growth': scenarioName = 'Investment Growth'; break;
                case 'balanced': scenarioName = 'Balanced Approach'; break;
            }
            
            alert(With a ${scenarioName} strategy, your net worth could increase by $${Math.round(difference).toLocaleString()} (${percentage}%) to $${Math.round(scenarioNetWorth).toLocaleString()});
        }

        // Reset the calculator
        function resetCalculator() {
            // Reset all input fields to default values
            document.querySelectorAll('input[type="number"]').forEach(input => {
                if (input.parentElement.classList.contains('asset-item') || 
                    input.parentElement.classList.contains('liability-item')) {
                    // Keep the structure but reset values to 0 for custom items
                    if (!input.value || parseFloat(input.value) === 0) {
                        input.value = '0';
                    }
                }
            });
            
            // Reset growth rate and goal
            document.getElementById('growth-rate').value = '5';
            document.getElementById('net-worth-goal').value = '1000000';
            
            calculateNetWorth();
        }

        // Add event listeners to all inputs
        document.addEventListener('DOMContentLoaded', function() {
            const inputs = document.querySelectorAll('input');
            inputs.forEach(input => {
                input.addEventListener('input', calculateNetWorth);
            });
            
            // Initial calculation
            calculateNetWorth();
        });
    </script>
</body>
</html>